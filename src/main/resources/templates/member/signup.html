<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>用户注册</title>
<link rel="icon" th:href="@{/custom/common/image/logo.ico}" type="image/x-icon"/>  

<link rel="stylesheet" type="text/css" media="all"
	href="/plugin/bootstrap/bootstrap.min.css"
	th:href="@{/plugin/bootstrap/bootstrap.min.css}" />
<link rel="stylesheet" type="text/css"
	th:href="@{/custom/common/css/common.css}" />

<script th:src="@{/plugin/jquery/jquery.min.js}"></script>
<script th:src="@{/plugin/bootstrap/bootstrap.min.js}"></script>
<script th:src="@{/plugin/validate/jquery.validate.min.js}"></script>
<script th:src="@{/custom/common/js/ajaxCustome.js}"></script>
<script>
$(function() {
	$("button[data='submit']").click(function() {
		var result = dajax($(this));
		if(result.result){
			location.href="/login/signin";
		}else{
			alert("注册失败");
		}
	});
	
	$("button[data='sendsms']").click(function() {
		var phoneNumber=$('input[name="phoneNumber"]').val();
		var result = ajaxGetData('/api/sms/register',{"phoneNumber":phoneNumber});
		if(result.result){
			alert("发送成功");
		}else{
			alert("发送失败");
		}
	});
});
</script>

</head>
<body>
	<div class="container" style="margin-top: 200px">
		<div class="row">
			<div class="col-md-6 col-md-offset-3">
				<h2>注册</h2>
				<hr />
				<form  class="form-horizontal" th:action="@{/api/member/register}" method="POST" novalidate="novalidate">
					<div class="form-group">
						<label for="phoneNumber" class="col-sm-2 control-label">手机号</label>
						<div class="col-sm-7">
							<input name="phoneNumber" type="text" class="form-control" placeholder="请输入手机号" value="">
						</div>
						<div class="col-sm-3">
							<button data="sendsms" type="button" class="btn btn-default">发送验证码</button>
						</div>
					</div>
					<div class="form-group">
						<label for="vcode" class="col-sm-2 control-label">验证码</label>
						<div class="col-sm-7">
							<input name="vcode" type="text" class="form-control" id=""
								value="" placeholder="请输入验证码">
						</div>
					</div>
					<div class="form-group">
						<label for="nickname" class="col-sm-2 control-label">昵称</label>
						<div class="col-sm-7">
							<input name="nickname" type="text" class="form-control" id=""
								value="" placeholder="请输入昵称">
						</div>
					</div>
					<div class="form-group">
						<label for="password" class="col-sm-2 control-label">密码</label>
						<div class="col-sm-7">
							<input name="password" type="password" class="form-control" id=""
								value="" placeholder="请输入密码">
						</div>
					</div>
					<div class="form-group">
						<div class="col-sm-offset-2 col-sm-4">
							<a th:href="@{/login/signin}">我有账号，直接登录</a>
						</div>
					</div>
					<div class="form-group">
						<div class="col-sm-offset-2 col-sm-10">
							<button data="submit" type="button" class="btn btn-default">注册</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>
</html>